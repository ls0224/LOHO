var ie6=!-[1,]&&!window.XMLHttpRequest;$.extend({alert:function(g,k,a,h){var d={type:"alert",width:400,effect:"fadeDown",effectOut:"fadeUp"},e,c;for(var f=0;f<arguments.length;f++){if(typeof(arguments[f])=="object"){e=arguments[f]}if(typeof(arguments[f])=="function"){c=arguments[f]}}a=e||{};h=c||function(){};if(typeof(k)!="string"){k=g,g=null}a.title=g;a.data=k;var b=new popBox();b.open(extend(d,a));b.get(".u-popbox-cancel").click(function(){b.close(h)});$(document).keydown(function(l){if(l.keyCode==13&&b.get(".u-popbox-cancel").length>0){b.get(".u-popbox-cancel").click()}})},confirm:function(g,k,a,h){var c={type:"confirm",width:400,closeHandle:"u-popbox-close",effect:"fadeDown",effectOut:"fadeUp"},e,b;for(var f=0;f<arguments.length;f++){if(typeof(arguments[f])=="object"){e=arguments[f]}if(typeof(arguments[f])=="function"){b=arguments[f]}}a=e||{};h=b||function(){};if(typeof(k)!="string"){k=g,g=null}a.title=g;a.data=k;var d=new popBox();d.open(extend(c,a));d.get(".u-popbox-cancel").click(function(){d.close()});d.get(".u-popbox-determine").click(function(){d.close(h)});$(document).keydown(function(l){if(l.keyCode==13&&d.get(".u-popbox-determine").length>0){d.get(".u-popbox-determine").click()}})},dialog:function(h,f,a,k){var c={type:"dialog"},d,b;for(var e=0;e<arguments.length;e++){if(typeof(arguments[e])=="object"){d=arguments[e]}if(typeof(arguments[e])=="function"){b=arguments[e]}}a=d||{};a.close=b;if(typeof(f)!="string"){f=h,h=null}a.title=h;a.data=f;var g=new popBox();g.open(extend(c,a));return g},popbox:function(c,b,h){var g={type:"popbox"},f,e;for(var a=0;a<arguments.length;a++){if(typeof(arguments[a])=="object"){f=arguments[a]}if(typeof(arguments[a])=="function"){e=arguments[a]}}b=f||{};b.close=e;b.data=c;var d=new popBox();d.open(extend(g,b));return d},tips:function(m,k,c,a,l){var d={type:"tips",mask:false,zIndex:99999,effect:"fadeUp"},g,f,b;for(var e=0;e<arguments.length;e++){if(typeof(arguments[e])=="number"){g=arguments[e]}if(typeof(arguments[e])=="object"){f=arguments[e]}if(typeof(arguments[e])=="function"){b=arguments[e]}}a=f||{};a.close=b;a.data=m;a.duration=g||0;if(typeof(k)=="string"){a.boxClass=k}var h=new popBox();h.open(extend(d,a));return h}});function popBox(){}popBox.prototype.open=function(f){var e={type:null,title:null,data:"",boxClass:"",effect:"fade",effectOut:null,mask:true,maskOpacity:0,maskColor:"#000",duration:0,delay:0,dragHandle:".u-popbox-hd,.u-popbox-ft",closeHandle:"",closeCls:"",close:null,remove:true},k=this,l="",m="";k.option=extend(e,f);k.handle=document.activeElement;k.handle.blur();var b=k.option,g=b.boxClass?" "+b.boxClass:"";if(b.mask){var h="position:absolute;top:0;left:0;width:100%;height:100%;";m='<div class="u-popbox-mask" style="background:'+b.maskColor+";display:none;position:fixed;_"+h+';">';if(ie6){m+='<iframe frameborder="0" style="filter:alpha(opacity=0);'+h+'"></iframe><div style="'+h+'"></div>'}m+="</div>"}if(typeof(b.type)=="string"){g="-"+b.type+g}l+=m+'<div class="u-popbox'+g+'" style="display:none;position:fixed;">';if(b.title!=null){l+='<div class="u-popbox-hd">'+b.title+"</div>"}if(b.type=="tips"||b.type==null){l+=b.data}else{l+='<div class="u-popbox-bd">'+b.data+"</div>";if(b.type=="alert"){l+='<div class="u-popbox-ft"><a class="u-popbox-cancel">确定</a></div>'}if(b.type=="confirm"){l+='<div class="u-popbox-ft"><a class="u-popbox-determine">确定</a><a class="u-popbox-cancel">取消</a></div>'}if(!b.closeCls){l+='<a class="u-popbox-close">×</a>'}else{l+='<a class="'+b.closeCls+'">×</a>'}}l+="</div>";l=$(l);l.appendTo("body");k.get=function(n){var o=$("body").find(l);if(typeof(n)=="string"){if(n=="mask"){return o.filter(".u-popbox-mask")}if(n=="hd"){return o.find(".u-popbox-hd")}if(n=="bd"){return o.find(".u-popbox-bd")}return o.find(n)}return o.not(".u-popbox-mask")};var a=k.get(),d=k.get("mask"),c=".u-popbox-close";k.show();$(window).resize(function(){k.location(k.position)});a.drag({handle:a.find(b.dragHandle)});if(b.duration>0){window.setTimeout(function(){k.close()},b.duration)}if(b.closeCls){c+=",.close,."+b.closeCls}a.find(c).click(function(){k.close()});$(document).keydown(function(n){if(n.keyCode==27&&k.get()){k.close()}})};popBox.prototype.location=function(n,d){var q={width:null,height:null,top:0.3,left:0.5,offsetX:0,offsetY:0,zIndex:99990,fixed:true},p=this,a=p.get(),k=p.get("mask"),f=p.get("hd"),h=p.get("bd"),m={},l,o,c,e=$(window).width(),g=$(window).height();p.position=extend(q,n,true);var b=newObject(p.position);if(b.width!=null){if(b.width>0&&b.width<=1){b.width*=e}if(b.width<=0){b.width=e+b.width*2}l=b.width}else{l=a.outerWidth(true)}if(b.height!=null){if(b.height>0&&b.height<=1){b.height*=g}if(b.height<=0){b.height=g+b.height*2}o=b.height;c=o-f.outerHeight(true)}else{o=a.outerHeight(true)}m.width=b.width;m.height=b.height;if(b.top<=1){b.top*=g-o}if(b.top<0){b.top=0}if(b.left<=1){b.left*=e-l}if(b.left<0){b.left=0}m.left=b.left+b.offsetX;m.top=b.top+b.offsetY;m.zIndex=b.zIndex;if(d){a.animate(m);h.animate({height:c})}else{a.css(m);h.css({height:c})}k.css("z-index",m.zIndex);if(!b.fixed||ie6){a.css({position:"absolute",top:$(window).scrollTop()+m.top})}if(ie6){$("html,body").css("height","100%")}if(b.fixed&&ie6){$(window).scroll(function(){a.css("top",$(window).scrollTop()+m.top)})}};popBox.prototype.show=function(){var c=this,b=c.option,a=c.get(),d=c.get("mask");c.location(b);window.setTimeout(function(){if(b.mask){d.fadeTo(400,b.maskOpacity)}a.show();var e=a.outerHeight(true)/2,g=a.outerWidth(true)/4;switch(b.effect){case"none":break;case"fall":var f=a.position().top,l=-a.outerHeight(true)*1.2;if(a.css("position")=="absolute"){l+=$(window).scrollTop()}a.css("top",l).animate({top:f});break;case"zoom":var k=a.outerWidth(true)/2,h=a.outerHeight(true)/2;a.css({left:"+="+k,top:"+="+h,width:0,height:0,opacity:0}).animate({left:"-="+k,top:"-="+h,width:k*2,height:h*2,opacity:1});break;case"fadeUp":a.css({top:"+="+e,opacity:0}).animate({top:"-="+e,opacity:1});break;case"fadeDown":a.css({top:"-="+e,opacity:0}).animate({top:"+="+e,opacity:1});break;case"fadeLeft":a.css({left:"+="+g,opacity:0}).animate({left:"-="+g,opacity:1});break;case"fadeRight":a.css({left:"-="+g,opacity:0}).animate({left:"+="+g,opacity:1});break;default:a.hide().fadeIn()}},b.delay)};popBox.prototype.close=function(m){var l=this,h=l.handle,a=l.get(),f=l.get("mask"),b=l.option,g=a.outerHeight(true)/2,k=a.outerWidth(true)/4;if(b.effectOut==null){b.effectOut=b.effect}switch(b.effectOut){case"none":a.hide();break;case"fall":var d=-a.outerHeight(true)*1.2;if(a.css("position")=="absolute"){d+=$(window).scrollTop()}a.animate({top:d});break;case"zoom":var e=a.outerWidth(true)/2,c=a.outerHeight(true)/2;a.animate({left:"+="+e,top:"+="+c,width:0,height:0,opacity:0});break;case"fadeUp":a.animate({top:"-="+g,opacity:0});break;case"fadeDown":a.animate({top:"+="+g,opacity:0});break;case"fadeLeft":a.animate({left:"-="+k,opacity:0});break;case"fadeRight":a.animate({left:"+="+k,opacity:0});break;default:a.fadeOut()}f.fadeOut();window.setTimeout(function(){a.hide();h.focus();if(typeof(m)=="function"){m()}if(typeof(l.option.close)=="function"){l.option.close()}if(b.remove){f.remove();a.remove();l=null}},400)};function extend(c,e,a){var d={};if(typeof(arguments[arguments.length-1])=="boolean"){a=arguments[arguments.length-1]}if(a){for(var b=0;b<arguments.length;b++){if(typeof(arguments[b])=="object"){for(j in arguments[0]){if(arguments[b][j]!=undefined){d[j]=arguments[b][j]}}}}}else{for(var b=0;b<arguments.length;b++){if(typeof(arguments[b])=="object"){for(j in arguments[b]){d[j]=arguments[b][j]}}}}return d}function newObject(a){var b={};if(typeof(a)=="object"){for(i in a){b[i]=a[i]}}return b};