(function(a){a.fn.slideShow=function(b,d){var c={mainCell:".bd ul",titCell:".hd li",trigger:"mouseover",nextCell:".ctrl .next",prevCell:".ctrl .prev",effect:"left",easing:"swing",css3:"3d",autoPlay:true,interTime:2500,delayTime:500,index:0,switchLoad:null,navType:"circle",allScreen:""};if(typeof(b)=="function"){d=b;b={}}var b=a.extend(c,b);return this.each(function(){var G=a(this),A=G.find(b.mainCell),F=A.children(),v=G.find(b.nextCell),h=G.find(b.prevCell),o=F.length,k=G.width(),x=G.height(),n=k*o,B=x*o,p=b.index<0||b.index>o-1?0:b.index;var D=0;if(o<2){G.find(b.titCell).hide();v.hide();h.hide();if(b.switchLoad!=null){j(F.first())}return false}if(a.inArray(b.effect,["left","leftLoop","top","topLoop"])>-1){A.wrap('<div class="tempWrap">');var t=A.parent(".tempWrap");t.css({overflow:"hidden"});if(b.effect=="leftLoop"||b.effect=="topLoop"){A.prepend(F.last().clone().addClass("clone")).append(F.eq(0).clone().addClass("clone"))}}A.css({position:"relative",padding:0,margin:0});var w=A.children();switch(b.effect){case"left":case"leftLoop":t.css({width:k});A.css({overflow:"hidden"});if(b.effect=="left"){A.css({width:n})}else{A.css({left:-k,width:k*(o+2)})}w.css({"float":"left",width:k,overflow:"hidden"});break;case"top":case"topLoop":t.css({height:x});A.css({overflow:"hidden"});if(b.effect=="top"){A.css({height:B})}else{A.css({top:-x,height:x*(o+2)})}w.css({height:x,overflow:"hidden"});break;case"fade":case"fold":F.hide().first().show();if(b.effect=="fold"){A.css({height:x});w.css({position:"absolute",left:0,top:0})}break;case"css3":A.addClass("slideshow-"+b.css3).css({height:x});w.css({position:"absolute",left:0,top:0,transition:"all "+b.delayTime+"ms ease-in-out"});break}if(b.titCell!=null){if(G.find(b.titCell).length<1){var z="";if(b.navType=="rect"){var m=1/o*100-0.2;for(var C=0;C<o;C++){z+=("<li style='width:"+m+"%'>0"+(C+1)+"</li>")}}else{for(var C=0;C<o;C++){z+="<li></li>"}}G.append('<div class="hd"><ul>'+z+"</ul></div>")}var l=G.find(b.titCell);l.bind(b.trigger,function(){if(!a(this).hasClass("on")){D=p=a(this).index();f(D)}})}if(b.nextCell!=null&&b.prevCell!=null){v.click(s);h.click(q)}if(b.autoPlay){var g=window.setInterval(s,b.interTime);G.hover(function(){window.clearInterval(g);g=-1},function(){if(g==-1){g=setInterval(s,b.interTime)}})}if("ontouchstart" in document.documentElement){A[0].addEventListener("touchstart",u,false)}f(p,0);function u(i){mainLeft=A.position().left;mainTop=A.position().top;touchStartX=i.changedTouches[0].pageX;touchStartY=i.changedTouches[0].pageY;A[0].addEventListener("touchmove",y,false);A[0].addEventListener("touchend",E,false)}function y(i){if(i.touches.length!=1||i.scale&&i.scale!==1){return false}if(b.autoPlay){window.clearInterval(g);g=-1}i.preventDefault();touchX=i.changedTouches[0].pageX;touchY=i.changedTouches[0].pageY;if(Math.abs(touchY-touchStartY)>Math.abs(touchX-touchStartX)){a(window).scrollTop(a(window).scrollTop()-touchY+touchStartY)}if(b.effect=="left"||b.effect=="leftLoop"){A.css("left",mainLeft+(touchX-touchStartX))}else{if(b.effect=="top"||b.effect=="topLoop"){A.css("top",mainTop+(touchX-touchStartX))}}}function E(i){touchEndX=i.changedTouches[0].pageX;flexDistance=80;if(touchStartX-touchEndX<-flexDistance){q()}else{if(touchStartX-touchEndX>flexDistance){s()}else{if(a.inArray(b.effect,["left","leftLoop","top","topLoop"])>-1){f(p,b.delayTime/4)}}}if(b.autoPlay&&g==-1){g=setInterval(s,b.interTime)}A[0].removeEventListener("touchmove",y,false);A[0].removeEventListener("touchend",E,false)}function f(i,H){H=H||b.delayTime;if(b.titCell!=null){l.removeClass("on").eq(i).addClass("on")}if(b.switchLoad!=null){j(F.eq(i))}A.stop(true,true);w.stop(true,true);a(".index-follow").stop(true,true);if(b.effect!="css3"){F.removeClass("show").eq(i).addClass("show")}switch(b.effect){case"css3":r(i);break;case"fade":w.hide().eq(i).fadeIn(H,b.easing);break;case"fold":w.eq(i).fadeIn(H,b.easing).siblings().fadeOut(H,b.easing);break;case"leftLoop":if(i!=p){A.animate({left:-k*(p+1)},H,b.easing,function(){A.css("left",-k*(i+1))});if(b.switchLoad!=null){j(A.find(".clone"))}}else{A.animate({left:-k*(i+1)},H,b.easing)}break;case"top":A.animate({top:-x*i},H,b.easing);break;case"topLoop":if(i!=p){A.animate({top:-x*(p+1)},H,b.easing,function(){A.css("top",-x*(i+1))});if(b.switchLoad!=null){j(A.find(".clone"))}}else{A.animate({top:-x*(i+1)},H,b.easing)}break;default:A.animate({left:-k*i},b.delayTime,b.easing)}if(d){d()}}function s(){p+=1;if(p==o){D=0;f(D);p=D}else{D=p;f(D)}}function q(){p-=1;if(p==-1){D=o-1;f(D);p=D}else{D=p;f(D)}}function j(i){if(b.allScreen){i.find(".imgItem["+b.switchLoad+"]").each(function(){a(this).css("background","url("+a(this).attr(b.switchLoad)+") scroll 50% 0%").removeAttr(b.switchLoad)})}else{i.find("img["+b.switchLoad+"]").each(function(){a(this).attr("src",a(this).attr(b.switchLoad)).removeAttr(b.switchLoad)})}}function r(i){w.removeAttr("class");if(i<2){w.eq(o-2+i).removeAttr("class").addClass("before").show()}else{w.eq(i-2).removeAttr("class").addClass("before").show()}if(i>o-3){w.eq(i-o+2).removeAttr("class").addClass("after").show()}else{w.eq(i+2).removeAttr("class").addClass("after").show()}if(i==0){w.last().removeAttr("class").addClass("prev").show()}else{w.eq(i-1).removeAttr("class").addClass("prev").show()}if(i==o-1){w.eq(0).removeAttr("class").addClass("next").show()}else{w.eq(i+1).removeAttr("class").addClass("next").show()}w.eq(i).removeAttr("class").addClass("show").show();if(b.switchLoad!=null){j(A.find(".before,.after"))}}})}})(jQuery);jQuery.easing.jswing=jQuery.easing.swing,jQuery.extend(jQuery.easing,{def:"easeOutQuad",swing:function(d,b,f,c,a){return jQuery.easing[jQuery.easing.def](d,b,f,c,a)},easeInQuad:function(d,b,f,c,a){return c*(b/=a)*b+f},easeOutQuad:function(d,b,f,c,a){return -c*(b/=a)*(b-2)+f},easeInOutQuad:function(d,b,f,c,a){return(b/=a/2)<1?c/2*b*b+f:-c/2*(--b*(b-2)-1)+f},easeInCubic:function(d,b,f,c,a){return c*(b/=a)*b*b+f},easeOutCubic:function(d,b,f,c,a){return c*((b=b/a-1)*b*b+1)+f},easeInOutCubic:function(d,b,f,c,a){return(b/=a/2)<1?c/2*b*b*b+f:c/2*((b-=2)*b*b+2)+f},easeInQuart:function(d,b,f,c,a){return c*(b/=a)*b*b*b+f},easeOutQuart:function(d,b,f,c,a){return -c*((b=b/a-1)*b*b*b-1)+f},easeInOutQuart:function(d,b,f,c,a){return(b/=a/2)<1?c/2*b*b*b*b+f:-c/2*((b-=2)*b*b*b-2)+f},easeInQuint:function(d,b,f,c,a){return c*(b/=a)*b*b*b*b+f},easeOutQuint:function(d,b,f,c,a){return c*((b=b/a-1)*b*b*b*b+1)+f},easeInOutQuint:function(d,b,f,c,a){return(b/=a/2)<1?c/2*b*b*b*b*b+f:c/2*((b-=2)*b*b*b*b+2)+f},easeInSine:function(d,b,f,c,a){return -c*Math.cos(b/a*(Math.PI/2))+c+f},easeOutSine:function(d,b,f,c,a){return c*Math.sin(b/a*(Math.PI/2))+f},easeInOutSine:function(d,b,f,c,a){return -c/2*(Math.cos(Math.PI*b/a)-1)+f},easeInExpo:function(d,b,f,c,a){return b==0?f:c*Math.pow(2,10*(b/a-1))+f},easeOutExpo:function(d,b,f,c,a){return b==a?f+c:c*(-Math.pow(2,-10*b/a)+1)+f},easeInOutExpo:function(d,b,f,c,a){return b==0?f:b==a?f+c:(b/=a/2)<1?c/2*Math.pow(2,10*(b-1))+f:c/2*(-Math.pow(2,-10*--b)+2)+f},easeInCirc:function(d,b,f,c,a){return -c*(Math.sqrt(1-(b/=a)*b)-1)+f},easeOutCirc:function(d,b,f,c,a){return c*Math.sqrt(1-(b=b/a-1)*b)+f},easeInOutCirc:function(d,b,f,c,a){return(b/=a/2)<1?-c/2*(Math.sqrt(1-b*b)-1)+f:c/2*(Math.sqrt(1-(b-=2)*b)+1)+f},easeInElastic:function(g,c,j,f,b){var d=1.70158,h=0,a=f;if(c==0){return j}if((c/=b)==1){return j+f}h||(h=b*0.3);if(a<Math.abs(f)){a=f;var d=h/4}else{var d=h/(2*Math.PI)*Math.asin(f/a)}return -(a*Math.pow(2,10*(c-=1))*Math.sin((c*b-d)*2*Math.PI/h))+j},easeOutElastic:function(g,c,j,f,b){var d=1.70158,h=0,a=f;if(c==0){return j}if((c/=b)==1){return j+f}h||(h=b*0.3);if(a<Math.abs(f)){a=f;var d=h/4}else{var d=h/(2*Math.PI)*Math.asin(f/a)}return a*Math.pow(2,-10*c)*Math.sin((c*b-d)*2*Math.PI/h)+f+j},easeInOutElastic:function(g,c,j,f,b){var d=1.70158,h=0,a=f;if(c==0){return j}if((c/=b/2)==2){return j+f}h||(h=b*0.3*1.5);if(a<Math.abs(f)){a=f;var d=h/4}else{var d=h/(2*Math.PI)*Math.asin(f/a)}return c<1?-0.5*a*Math.pow(2,10*(c-=1))*Math.sin((c*b-d)*2*Math.PI/h)+j:a*Math.pow(2,-10*(c-=1))*Math.sin((c*b-d)*2*Math.PI/h)*0.5+f+j},easeInBack:function(f,b,g,d,a,c){return c==undefined&&(c=1.70158),d*(b/=a)*b*((c+1)*b-c)+g},easeOutBack:function(f,b,g,d,a,c){return c==undefined&&(c=1.70158),d*((b=b/a-1)*b*((c+1)*b+c)+1)+g},easeInOutBack:function(f,b,g,d,a,c){return c==undefined&&(c=1.70158),(b/=a/2)<1?d/2*b*b*(((c*=1.525)+1)*b-c)+g:d/2*((b-=2)*b*(((c*=1.525)+1)*b+c)+2)+g},easeInBounce:function(d,b,f,c,a){return c-jQuery.easing.easeOutBounce(d,a-b,0,c,a)+f},easeOutBounce:function(d,b,f,c,a){return(b/=a)<1/2.75?c*7.5625*b*b+f:b<2/2.75?c*(7.5625*(b-=1.5/2.75)*b+0.75)+f:b<2.5/2.75?c*(7.5625*(b-=2.25/2.75)*b+0.9375)+f:c*(7.5625*(b-=2.625/2.75)*b+0.984375)+f},easeInOutBounce:function(d,b,f,c,a){return b<a/2?jQuery.easing.easeInBounce(d,b*2,0,c,a)*0.5+f:jQuery.easing.easeOutBounce(d,b*2-a,0,c,a)*0.5+c*0.5+f}});